<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<ui:composition template="../WEB-INF/templates/principal.xhtml">

    <ui:define name="content">
        <h:messages></h:messages>
        <h:form id="form_automovel" prependId="false" enctype="multipart/form-data" styleClass="form-horizontal">
            <div class="form-group">
                <h:outputLabel value="Marca" styleClass="col-sm-2 control-label"/>
                <div class="col-sm-4">
                    <h:selectOneMenu id="marca" styleClass="form-control" converter="objConverter" value="#{automovelFormBean.marcaSelect}">
                        <f:selectItem noSelectionOption="true" itemValue="Selecione uma marca"></f:selectItem>
                        <f:selectItems var="marca" value="#{automovelFormBean.marcas}" itemValue="#{marca}" itemLabel="#{marca.nome}"></f:selectItems>
                        <f:ajax event="change" listener="#{automovelFormBean.listaModeloPorMarca}" render="modelo"></f:ajax>
                    </h:selectOneMenu>
                </div>

            </div>
            <div class="form-group">
                <h:outputLabel value="Modelo" styleClass="col-sm-2 control-label"/>
                <div class="col-sm-4">
                    <h:selectOneMenu id="modelo" styleClass="form-control" converter="objConverter" value="#{automovelFormBean.modeloForm}">
                        <f:selectItem noSelectionOption="true" itemValue="Selecione um modelo"></f:selectItem>
                        <f:selectItems var="modelo" value="#{automovelFormBean.modelos}" itemValue="#{modelo}" itemLabel="#{modelo.descricao}"></f:selectItems>
                    </h:selectOneMenu>
                </div>
            </div>

            <div class="form-group">
                <h:outputLabel value="Ano Modelo" styleClass="col-sm-2 control-label"/>
                <div class="col-sm-4">
                    <h:inputText value="#{automovelFormBean.anoModelo}"  styleClass="form-control"/>
                </div>
            </div>

            <div class="form-group">
                <h:outputLabel value="Ano Fabricação" styleClass="col-sm-2 control-label"/>
                <div class="col-sm-4">
                    <h:inputText value="#{automovelFormBean.anoFabricacao}"  styleClass="form-control"/>
                </div>
            </div>

            <div class="form-group">
                <h:outputLabel  value="Observação" styleClass="col-sm-2 control-label"/>
                <div class="col-sm-4">
                    <h:inputText value="#{automovelFormBean.automovel.observacao}"  styleClass="form-control"/>
                </div>

            </div>
            <div class="form-group">
                <h:outputLabel  value="Preço" styleClass="col-sm-2 control-label"/>
                <div class="col-sm-4">
                    <h:inputText value="#{automovelFormBean.automovel.preco}" styleClass="form-control" />
                </div>
            </div>


            <div class="form-group">
                <h:outputLabel  value="Kilometragem" styleClass="col-sm-2 control-label"/>
                <div class="col-sm-4">
                    <h:inputText value="#{automovelFormBean.automovel.kilometragem}" styleClass="form-control" />
                </div>
            </div>
            <div class="form-group">
                <h:outputLabel value="Imagem" styleClass="col-sm-2 control-label"/>
                <div class="col-sm-4">
                    <h:inputFile value="#{automovelFormBean.imagemCarro}" id="imagemCarro"  styleClass="form-control"/>
                </div>
            </div>
            <div class="form-group">
                <h:commandButton value="Salvar" immediate="true" action="#{automovelFormBean.salvar}"  />
            </div>



        </h:form>
    </ui:define>

</ui:composition>
</html>